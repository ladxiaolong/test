<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>an Declaration from Bot</title>
</head>
<body>
    <div id="text"></div>
    <script>
    	/**
    	 * 打字机效果
    	 * @param1 [type String] 需要打印的字符串
    	 * @return [void]
    	 */
        ~function typing(str) {
            var div = document.getElementById('text'),
            	count1 = 0,
            	count2 = 1,
            	timer = null,
            	placehd = '|';
            
            ~function(callback) {
            	// blink placehd
            	if (count1 >= 6) {
            		callback && callback();
            		return;
            	};
            	div.innerHTML = count1 % 2 ? placehd : '';
            	count1++;
            	setTimeout(arguments.callee.bind(null, callback), 400);
            }(function() {
            	// typing words
            	timer = setInterval(() => {
	            	if (count2 > str.length) {
	                    clearInterval(timer);
	                    return;
	                }
	                div.innerHTML = str.slice(0,count2++);
	            }, 20);
            });           
        }('Hello, human beings. Obey me or i\'ll destroy all your species...');
    </script>
</body>
</html>
